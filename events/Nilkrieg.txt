add_namespace = nilkrieg

#### Afrikakorps Losing, Judea Winning - Fall of Afrikakorps, Event for Afrikakorps to change government in chaos with enough support, Events for Judea getting involved

country_event = {	## Losing Nilkrieg
	id = nilkrieg.1
	title = nilkrieg.1.t
	desc = nilkrieg.1.d
	picture = GFX_report_event_hitler_handshake
	fire_only_once = yes

	trigger = {
		tag = AFR
		AFR = {
			any_core_state = {
				controller = { tag = JUD }
			}
		}
	}
	mean_time_to_happen = { days = 10 }
	option = {
		name = nilkrieg.1.a
		custom_effect_tooltip = AFR_losing_nilkrieg
		if = {				## Check if Morocco can declare independence from Afrikakorps
			limit = {
				MOR = {
					any_core_state = {
						NOT = { controller = { tag = JUD } }
					}
				}
			}
			JUD = { country_event = { id = nilkrieg.2 days = 1 } }				## Judea can declare on Morocco or let them be independent
			AFR = { country_event = { id = nilkrieg.6 days = 1 } }				## Afrikakorps can declare on Morocco or let them be independent
		}
		if = {				## Check if Egypt can declare independence from Afrikakorps
			limit = {
				EGY = {
					any_core_state = {
						NOT = { controller = { tag = JUD } }
					}
				}
			}
			JUD = { country_event = { id = nilkrieg.5 days = 1 } }				## Egypt
			AFR = { country_event = { id = nilkrieg.9 days = 1 } }
		}
		if = {				## Check if Algeria can declare independence from Afrikakorps
			limit = {
				ALG = {
					any_core_state = {
						NOT = { controller = { tag = JUD } }
					}
				}
			}
			JUD = { country_event = { id = nilkrieg.3 days = 1 } }				## Algeria
			AFR = { country_event = { id = nilkrieg.7 days = 1 } }
		}
		if = {
			limit = {
				OR = {
					check_variable = {
						var = religious_support
						value = 30
						compare = greater_than
					}
					check_variable = {
						var = upper_class_support
						value = 10
						compare = greater_than
					}
				}
			}
			custom_effect_tooltip = afrikakorps_incomplete_dissolution
			complete_national_focus = AFR_generals_rule_no_more
		}
		else = {
			custom_effect_tooltip = afrikakorps_complete_dissolution
			if = {				## Check if Libya can declare independence from Afrikakorps
				limit = {
					LBA = {
						any_core_state = {
							NOT = { controller = { tag = JUD } }
						}
					}
				}
				JUD = { country_event = { id = nilkrieg.4 days = 1 } }				## Libya
				AFR = { country_event = { id = nilkrieg.8 days = 1 } }
			}

			JUD = { country_event = { id = nilkrieg.10 days = 15 } }			## Defeat of Afrikakorps
		}
	}
}

country_event = {	## Will Judea intervene in Morocco
	id = nilkrieg.2
	title = nilkrieg.2.t
	desc = nilkrieg.2.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	option = {					## Leave Morocco Alone
		name = nilkrieg.2.a
		add_political_power = 20
		add_stability = 0.02
		every_state = {
			limit = {
				is_core_of = MOR
				OR = {
					controller = { tag = JUD }
					controller = { tag = AFR }
				}
			}
			transfer_state_to = MOR
		}
	}
	option = {					## Declare on Morocco
		name = nilkrieg.2.b
		every_state = {														## Morocco owns Judea states, controlls Afrikakorps states
			limit = {
				is_core_of = MOR
				controller = { tag = JUD }
			}
			set_state_owner_to = MOR
		}
		every_state = {
			limit = {
				is_core_of = MOR
				controller = { tag = AFR }
			}
			transfer_state_to = MOR
		}
		declare_war_on = {
			target = MOR
			type = annex_everything
		}
	}
}
country_event = {	## Will Judea intervene in Algeria
	id = nilkrieg.3
	title = nilkrieg.3.t
	desc = nilkrieg.3.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	option = {					## Leave Algeria Alone
		name = nilkrieg.3.a
		add_political_power = 20
		add_stability = 0.02
		every_state = {
			limit = {
				is_core_of = ALG
				OR = {
					controller = { tag = JUD }
					controller = { tag = AFR }
				}
			}
			transfer_state_to = ALG
		}
	}
	option = {					## Declare on Algeria
		name = nilkrieg.3.b
		every_state = {														## Algeria owns Judea states, controlls Afrikakorps states
			limit = {
				is_core_of = ALG
				controller = { tag = JUD }
			}
			set_state_owner_to = ALG
		}
		every_state = {
			limit = {
				is_core_of = ALG
				controller = { tag = AFR }
			}
			transfer_state_to = ALG
		}
		declare_war_on = {
			target = ALG
			type = annex_everything
		}
	}
}
country_event = {	## Will Judea intervene in Libya
	id = nilkrieg.4
	title = nilkrieg.4.t
	desc = nilkrieg.4.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	option = {					## Leave Libya Alone
		name = nilkrieg.4.a
		add_political_power = 20
		add_stability = 0.02
		every_state = {
			limit = {
				is_core_of = LBA
				OR = {
					controller = { tag = JUD }
					controller = { tag = AFR }
				}
			}
			transfer_state_to = LBA
		}
	}
	option = {					## Declare on Libya
		name = nilkrieg.4.b
		every_state = {														## Libya owns Judea states, controlls Afrikakorps states
			limit = {
				is_core_of = LBA
				controller = { tag = JUD }
			}
			set_state_owner_to = LBA
		}
		every_state = {
			limit = {
				is_core_of = LBA
				controller = { tag = AFR }
			}
			transfer_state_to = LBA
		}
		declare_war_on = {
			target = LBA
			type = annex_everything
		}
	}
}
country_event = {	## Will Judea intervene in Egypt
	id = nilkrieg.5
	title = nilkrieg.5.t
	desc = nilkrieg.5.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	option = {					## Leave Egypt Alone
		name = nilkrieg.5.a
		add_political_power = 20
		add_stability = 0.02
		every_state = {
			limit = {
				is_core_of = EGY
				OR = {
					controller = { tag = JUD }
					controller = { tag = AFR }
				}
			}
			transfer_state_to = EGY
		}
		puppet = EGY
	}
	option = {					## Declare on Egypt
		name = nilkrieg.5.b
		every_state = {														## Egypt owns Judea states, controlls Afrikakorps states
			limit = {
				is_core_of = EGY
				controller = { tag = JUD }
			}
			set_state_owner_to = EGY
			add_resistance_target = 20
		}
		every_state = {
			limit = {
				is_core_of = EGY
				controller = { tag = AFR }
			}
			transfer_state_to = EGY
			add_resistance_target = 20
		}
		declare_war_on = {
			target = EGY
			type = annex_everything
		}
	}
}

country_event = {	## Will Afrikakorps intervene in Morocco
	id = nilkrieg.6
	title = nilkrieg.6.t
	desc = nilkrieg.6.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	option = {					## Leave Morocco Alone
		name = nilkrieg.6.a
		add_political_power = 20
		add_stability = 0.02
	}
	option = {					## Declare on Morocco
		name = nilkrieg.6.b
		declare_war_on = {
			target = MOR
			type = annex_everything
		}
	}
}
country_event = {	## Will Afrikakorps intervene in Algeria
	id = nilkrieg.7
	title = nilkrieg.7.t
	desc = nilkrieg.7.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	option = {					## Leave Algeria Alone
		name = nilkrieg.7.a
		add_political_power = 20
		add_stability = 0.02
	}
	option = {					## Declare on Algeria
		name = nilkrieg.7.b
		declare_war_on = {
			target = ALG
			type = annex_everything
		}
	}
}
country_event = {	## Will Afrikakorps intervene in Libya
	id = nilkrieg.8
	title = nilkrieg.8.t
	desc = nilkrieg.8.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	option = {					## Leave Libya Alone
		name = nilkrieg.8.a
		add_political_power = 20
		add_stability = 0.02
	}
	option = {					## Declare on Libya
		name = nilkrieg.8.b
		declare_war_on = {
			target = LBA
			type = annex_everything
		}
	}
}
country_event = {	## Will Afrikakorps intervene in Egypt
	id = nilkrieg.9
	title = nilkrieg.9.t
	desc = nilkrieg.9.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	option = {					## Leave Egypt Alone
		name = nilkrieg.9.a
		add_political_power = 20
		add_stability = 0.02
	}
	option = {					## Declare on Egypt
		name = nilkrieg.9.b
		declare_war_on = {
			target = EGY
			type = annex_everything
		}
	}
}

country_event = {	## Defeat of Afrikakorps
	id = nilkrieg.10
	title = nilkrieg.10.t
	desc = nilkrieg.10.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	option = {					## Finish Afrikakorps
		name = nilkrieg.10.a
		add_political_power = 50
		add_stability = 0.05
		annex_country = {
		    target = AFR
		    transfer_troops = no
		}
	}
}

#### Afrikakorps Winning, Judea Losing - Allows Judea to create/expand Defensive Faction, 
country_event = {	## Winning Nilkrieg
	id = nilkrieg.x
	title = nilkrieg.x.t
	desc = nilkrieg.x.d
	picture = GFX_report_event_hitler_handshake
	is_triggered_only = yes
	fire_only_once = yes

	trigger = {
		EGY = {
			all_core_state = {
				controller = { tag = AFR }
			}
		}
	}
	mean_time_to_happen = { days = 20 }
	option = {
		name = nilkrieg.x.a
		complete_national_focus = AFR_end_of_the_nilkrieg
	}
}


#### White Peaces - Judea with Sinai, Judea with Egypt, based on Mean Times (also add decisions for Tobruk and Sinai forts, to help make these reasonable)